"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[78724],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var a=n(67294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,s=e.mdxType,i=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=c(n),m=s,f=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(f,r(r({ref:t},p),{},{components:n})):a.createElement(f,r({ref:t},p))}));function f(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var i=n.length,r=new Array(i);r[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[d]="string"==typeof e?e:s,r[1]=o;for(var c=2;c<i;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},83149:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=n(87462),s=(n(67294),n(3905));const i={id:"assets",title:"Assets and Images"},r="Assets",o={unversionedId:"basics/user-interface/assets",id:"basics/user-interface/assets",title:"Assets and Images",description:"Many applications need to include assets such as bitmaps, styles and resource dictionaries. Resource dictionaries contain graphical fundamentals that can be declared in XAML. Styles can also be written in XAML, but bitmap assets are binary files, for example PNG and JPEG formats.",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/basics/user-interface/assets.md",sourceDirName:"basics/user-interface",slug:"/basics/user-interface/assets",permalink:"/avalonia-docs/zh-Hans/docs/next/basics/user-interface/assets",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/basics/user-interface/assets.md",tags:[],version:"current",frontMatter:{id:"assets",title:"Assets and Images"},sidebar:"documentationSidebar",previous:{title:"Adding Interactivity",permalink:"/avalonia-docs/zh-Hans/docs/next/basics/user-interface/adding-interactivity"},next:{title:"Animations",permalink:"/avalonia-docs/zh-Hans/docs/next/basics/user-interface/animations"}},l={},c=[{value:"Including assets",id:"including-assets",level:2},{value:"Referencing Included Assets",id:"referencing-included-assets",level:3},{value:"Library Assets",id:"library-assets",level:2},{value:"Asset Type Conversion",id:"asset-type-conversion",level:3},{value:"Loading Assets in Code",id:"loading-assets-in-code",level:3}],p={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,s.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"assets"},"Assets"),(0,s.kt)("p",null,"Many applications need to include assets such as bitmaps, styles and resource dictionaries. Resource dictionaries contain graphical fundamentals that can be declared in XAML. Styles can also be written in XAML, but bitmap assets are binary files, for example PNG and JPEG formats."),(0,s.kt)("h2",{id:"including-assets"},"Including assets"),(0,s.kt)("img",{src:"/img/gitbook-import/assets/image (8).png",alt:""}),(0,s.kt)("p",null,"You include assets in an application by using the ",(0,s.kt)("inlineCode",{parentName:"p"},"<AvaloniaResource>")," element in your project file."),(0,s.kt)("p",null,"For example, the Avalonia .NET Core MVVM App solution template creates a folder called ",(0,s.kt)("inlineCode",{parentName:"p"},"Assets")," (containing the ",(0,s.kt)("inlineCode",{parentName:"p"},"avalonia-logo.ico")," file) and adds an element to the project file to include any files located there. As follows:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-xml"},'<ItemGroup>\n  <AvaloniaResource Include="Assets\\**"/>\n</ItemGroup>\n')),(0,s.kt)("p",null,"You can include whatever files you want by adding additional ",(0,s.kt)("inlineCode",{parentName:"p"},"<AvaloniaResource>")," elements in this item group."),(0,s.kt)("admonition",{type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"The element name ",(0,s.kt)("inlineCode",{parentName:"p"},"AvaloniaResource")," here only indicates that the assets will be internally stored as .NET resources by the build. However, in ",(0,s.kt)("em",{parentName:"p"},"Avalonia UI")," terms, these files are called 'Assets' to distinguish them from 'XAML resources'.")),(0,s.kt)("h3",{id:"referencing-included-assets"},"Referencing Included Assets"),(0,s.kt)("p",null,"Once asset files are included, they can be referenced as needed in the XAML that defines your UI. For example, these assets are referenced by specifying their relative path:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-xml"},'<Image Source="icon.png"/>\n<Image Source="images/icon.png"/>\n<Image Source="../icon.png"/>\n')),(0,s.kt)("p",null,"As an alternative, you can use the rooted path:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-xml"},'<Image Source="/Assets/icon.png"/>\n')),(0,s.kt)("h2",{id:"library-assets"},"Library Assets"),(0,s.kt)("img",{src:"/img/gitbook-import/assets/image.png",alt:""}),(0,s.kt)("p",null,"If the asset is included in a different assembly from the XAML file, then you use the ",(0,s.kt)("inlineCode",{parentName:"p"},"avares:")," URI scheme. For example, if the asset is contained in an assembly called ",(0,s.kt)("inlineCode",{parentName:"p"},"MyAssembly.dll")," in a ",(0,s.kt)("inlineCode",{parentName:"p"},"Assets")," folder, then you use:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-xml"},'<Image Source="avares://MyAssembly/Assets/icon.png"/>\n')),(0,s.kt)("h3",{id:"asset-type-conversion"},"Asset Type Conversion"),(0,s.kt)("p",null,"Avalonia UI has built-in converters which can load assets for bitmaps, icons and fonts out of the box. So an assets Uri can be automatically converted to any of following:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Image - ",(0,s.kt)("inlineCode",{parentName:"li"},"Image")," type"),(0,s.kt)("li",{parentName:"ul"},"Bitmap - ",(0,s.kt)("inlineCode",{parentName:"li"},"Bitmap")," type"),(0,s.kt)("li",{parentName:"ul"},"Window Icon - ",(0,s.kt)("inlineCode",{parentName:"li"},"WindowIcon")," type"),(0,s.kt)("li",{parentName:"ul"},"Font - ",(0,s.kt)("inlineCode",{parentName:"li"},"FontFamily")," type")),(0,s.kt)("h3",{id:"loading-assets-in-code"},"Loading Assets in Code"),(0,s.kt)("p",null,"You can write code to load assets using the ",(0,s.kt)("inlineCode",{parentName:"p"},"AssetLoader")," static class. For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-csharp"},"var bitmap = new Bitmap(AssetLoader.Open(new Uri(uri)));\n")),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"uri")," variable in the above code can contain any valid URI with ",(0,s.kt)("inlineCode",{parentName:"p"},"avares:")," scheme (as described above)."),(0,s.kt)("p",null,(0,s.kt)("em",{parentName:"p"},"Avalonia UI")," does not provide support for ",(0,s.kt)("inlineCode",{parentName:"p"},"file://"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"http://"),", or ",(0,s.kt)("inlineCode",{parentName:"p"},"https://")," schemes. If you want to load files from disk or the Web, you must implement that functionality yourself or use community implementations."),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("p",{parentName:"admonition"},"Avalonia UI has a community implementation for an image loader at ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/AvaloniaUtils/AsyncImageLoader.Avalonia"},"https://github.com/AvaloniaUtils/AsyncImageLoader.Avalonia"))))}u.isMDXComponent=!0}}]);