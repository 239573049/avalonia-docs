"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[22302],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),s=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return o.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(n),m=a,h=u["".concat(c,".").concat(m)]||u[m]||d[m]||r;return n?o.createElement(h,i(i({ref:t},p),{},{components:n})):o.createElement(h,i({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2213:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var o=n(87462),a=(n(67294),n(3905));const r={description:"CONCEPTS"},i="The View Locator",l={unversionedId:"concepts/view-locator",id:"concepts/view-locator",title:"The View Locator",description:"CONCEPTS",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/concepts/view-locator.md",sourceDirName:"concepts",slug:"/concepts/view-locator",permalink:"/avalonia-docs/zh-Hans/docs/next/concepts/view-locator",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/concepts/view-locator.md",tags:[],version:"current",frontMatter:{description:"CONCEPTS"},sidebar:"documentationSidebar",previous:{title:"The TopLevel",permalink:"/avalonia-docs/zh-Hans/docs/next/concepts/toplevel"},next:{title:"Deployment",permalink:"/avalonia-docs/zh-Hans/docs/next/deployment/"}},c={},s=[{value:"How it works",id:"how-it-works",level:2},{value:"Customizing the View Locator",id:"customizing-the-view-locator",level:2}],p={toc:s},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"the-view-locator"},"The View Locator"),(0,a.kt)("p",null,"While the use of the View Locator comes as part of the default templates, it's important to note that it's not a mandatory requirement. It's an optional tool provided to help you structure your Avalonia application using the Model-View-ViewModel (MVVM) design pattern."),(0,a.kt)("p",null,"The View Locator is a mechanism in Avalonia that is used to resolve the view (user interface) that corresponds to a specific ViewModel. This is a core part of the MVVM (Model-View-ViewModel) pattern, which is a design pattern that separates the development of the graphical user interface from the development of the business logic or back-end logic."),(0,a.kt)("h2",{id:"how-it-works"},"How it works"),(0,a.kt)("p",null,'The View Locator uses naming conventions to map ViewModel types to view types. By default, it strips "ViewModel" from the end of the ViewModel type name, and looks for a type with the same name in the same namespace, but in the corresponding "Views" namespace.'),(0,a.kt)("p",null,"For example, given a ViewModel named ",(0,a.kt)("inlineCode",{parentName:"p"},"MyApplication.ViewModels.ExampleViewModel"),", the View Locator will look for a View named ",(0,a.kt)("inlineCode",{parentName:"p"},"MyApplication.Views.Example"),"."),(0,a.kt)("p",null,"The View Locator is typically used in conjunction with the ",(0,a.kt)("inlineCode",{parentName:"p"},"DataContext")," property, which is used to link a view to its ViewModel."),(0,a.kt)("p",null,"Here's a simple usage example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cs"},'public class ViewLocator : IDataTemplate\n{\n    public bool SupportsRecycling => false;\n\n    public IControl Build(object data)\n    {\n        var name = data.GetType().FullName.Replace("ViewModel", "View");\n        var type = Type.GetType(name);\n\n        if (type != null)\n        {\n            return (Control)Activator.CreateInstance(type);\n        }\n        else\n        {\n            return new TextBlock { Text = "Not Found: " + name };\n        }\n    }\n\n    public bool Match(object data)\n    {\n        return data is ViewModelBase;\n    }\n}\n')),(0,a.kt)("p",null,"In this example, the View Locator is implemented as an ",(0,a.kt)("inlineCode",{parentName:"p"},"IDataTemplate"),". The ",(0,a.kt)("inlineCode",{parentName:"p"},"Build")," method creates the view for the ViewModel, and the ",(0,a.kt)("inlineCode",{parentName:"p"},"Match")," method checks if the data object is a ViewModel that this locator knows how to handle."),(0,a.kt)("h2",{id:"customizing-the-view-locator"},"Customizing the View Locator"),(0,a.kt)("p",null,"You can customize the View Locator to use different conventions. For example, you might want to look for views in a different assembly, or use a different naming convention. To do this, you can implement your own View Locator by creating a class that implements the ",(0,a.kt)("inlineCode",{parentName:"p"},"IDataTemplate")," interface, and replace the default View Locator with your own."))}d.isMDXComponent=!0}}]);