"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[41406],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>u});var o=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=o.createContext({}),p=function(e){var t=o.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=p(e.components);return o.createElement(c.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},k=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=p(r),k=n,u=m["".concat(c,".").concat(k)]||m[k]||d[k]||a;return r?o.createElement(u,i(i({ref:t},l),{},{components:r})):o.createElement(u,i({ref:t},l))}));function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=k;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[m]="string"==typeof e?e:n,i[1]=s;for(var p=2;p<a;p++)i[p]=r[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}k.displayName="MDXCreateElement"},62604:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var o=r(87462),n=(r(67294),r(3905));const a={id:"bookmarks",title:"Bookmarks"},i="Bookmarks",s={unversionedId:"concepts/services/storage-provider/bookmarks",id:"concepts/services/storage-provider/bookmarks",title:"Bookmarks",description:"Bookmarks are particularly important for maintaining access to files and folders in modern operating systems that have strict security and privacy controls. For instance, on platforms like iOS and newer versions of macOS, direct file system access is heavily restricted. Instead, applications request the user to select a file or folder through a system-provided file picker, and the operating system then gives the application a security-scoped bookmark that it can use to access that file or folder in the future.",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/concepts/services/storage-provider/bookmarks.md",sourceDirName:"concepts/services/storage-provider",slug:"/concepts/services/storage-provider/bookmarks",permalink:"/avalonia-docs/zh-Hans/docs/next/concepts/services/storage-provider/bookmarks",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/concepts/services/storage-provider/bookmarks.md",tags:[],version:"current",frontMatter:{id:"bookmarks",title:"Bookmarks"},sidebar:"documentationSidebar",previous:{title:"Storage Items",permalink:"/avalonia-docs/zh-Hans/docs/next/concepts/services/storage-provider/storage-item"},next:{title:"File Picker Options",permalink:"/avalonia-docs/zh-Hans/docs/next/concepts/services/storage-provider/file-picker-options"}},c={},p=[],l={toc:p},m="wrapper";function d(e){let{components:t,...r}=e;return(0,n.kt)(m,(0,o.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"bookmarks"},"Bookmarks"),(0,n.kt)("p",null,"Bookmarks are particularly important for maintaining access to files and folders in modern operating systems that have strict security and privacy controls. For instance, on platforms like iOS and newer versions of macOS, direct file system access is heavily restricted. Instead, applications request the user to select a file or folder through a system-provided file picker, and the operating system then gives the application a security-scoped bookmark that it can use to access that file or folder in the future."),(0,n.kt)("p",null,"In Avalonia's ",(0,n.kt)("inlineCode",{parentName:"p"},"StorageProvider"),", these bookmarks are represented as ",(0,n.kt)("inlineCode",{parentName:"p"},"IStorageBookmarkFile")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"IStorageBookmarkFolder")," interfaces."),(0,n.kt)("p",null,"To get bookmark ID from the specific folder or file, please use ",(0,n.kt)("inlineCode",{parentName:"p"},"SaveBookmarkAsync")," async method on storage item.\nAfter retriving bookmark ID, it can be saved in a local database for the futher use instead of asking user to pick a folder each time.\nYou can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"OpenFileBookmarkAsync")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"OpenFolderBookmarkAsync")," methods to open a bookmarked file or folder using its bookmark ID. This will return the bookmarked file or folder, or null if the operating system denies the request."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"The exact behavior and capabilities can depend on the specific operating system and its security policies. For instance, on some platforms, a bookmark might become invalid if the user moves or renames the file or folder that it points to.")),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"It's not recommended to store bookmark IDs on a remote data bases, as bookmark might not be persistent and might contain sensitive file path information.")))}d.isMDXComponent=!0}}]);