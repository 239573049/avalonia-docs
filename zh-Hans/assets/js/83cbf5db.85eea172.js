"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[22747],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(n),u=a,g=p["".concat(l,".").concat(u)]||p[u]||m[u]||o;return n?i.createElement(g,r(r({ref:t},d),{},{components:n})):i.createElement(g,r({ref:t},d))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,r[1]=s;for(var c=2;c<o;c++)r[c]=n[c];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},68580:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var i=n(87462),a=(n(67294),n(3905));const o={id:"how-to-use-design-time-data",title:"How To Use Design-time Data"},r="How To Use Design-time Data",s={unversionedId:"guides/implementation-guides/how-to-use-design-time-data",id:"guides/implementation-guides/how-to-use-design-time-data",title:"How To Use Design-time Data",description:"Design-time data can help you style and position your UI layer without having to build the rest of the application. This is especially useful when you are trying to achieve a pixel-perfect presentation.&#x20;",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/guides/implementation-guides/how-to-use-design-time-data.md",sourceDirName:"guides/implementation-guides",slug:"/guides/implementation-guides/how-to-use-design-time-data",permalink:"/avalonia-docs/zh-Hans/docs/next/guides/implementation-guides/how-to-use-design-time-data",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/guides/implementation-guides/how-to-use-design-time-data.md",tags:[],version:"current",frontMatter:{id:"how-to-use-design-time-data",title:"How To Use Design-time Data"},sidebar:"documentationSidebar",previous:{title:"How To Use Live Preview",permalink:"/avalonia-docs/zh-Hans/docs/next/guides/implementation-guides/ide-support"},next:{title:"Localizing using ResX",permalink:"/avalonia-docs/zh-Hans/docs/next/guides/implementation-guides/localizing"}},l={},c=[],d={toc:c},p="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"how-to-use-design-time-data"},"How To Use Design-time Data"),(0,a.kt)("p",null,"Design-time data can help you style and position your UI layer without having to build the rest of the application. This is especially useful when you are trying to achieve a pixel-perfect presentation."," "),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"Avalonia UI")," solution templates all add design-time code to the main window for you to copy."),(0,a.kt)("p",null,"This guide shows you how to use design-time data with the MVVM pattern to create a realistic UI with only mock data (that is without a data service layer). "," "),(0,a.kt)("img",{src:"/img/gitbook-import/assets/image (6).png",alt:""}),(0,a.kt)("p",null,"This implementation pattern is based on the concept of deriving a design version of any view model that you create, and adding mock data to its constructor. Your XAML files can then declare a design data context, and reference the design version of the view model to display mock data in the preview pane for you."),(0,a.kt)("p",null,"In this example you are working on the UI for an appointment card to display an appointment view model, like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},"public class AppointmentViewModel: ViewModelBase\n{\n    public string ServerName { get; set; } = null!;\n    public string ServiceTitle { get; set; } = null!;    \n    public decimal ServicePrice { get; set; }\n    public DateTime ServiceDateTime { get; set; }\n    public string Description { get; set; } = null!;   \n}\n")),(0,a.kt)("p",null,"This code creates the design version of this view model:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},'public class DesignAppointmentViewModel: AppointmentViewModel\n{\n    public DesignAppointmentViewModel()\n    {\n        ServerName = "John Price";\n        ServiceTitle = "Hair Cut and Beard Trim";\n        ServicePrice = (decimal)25.5;\n        ServiceDateTime = new DateTime(2023, 1, 3, 11, 15, 0);\n        Description = "Please allow 30 minutes.";\n    }\n}\n')),(0,a.kt)("p",null,"To continue with this example: you are next working on a user control to present the appointment card. Firstly, you must first add a reference to the view models. Next check that you have set a suitable design width and/or height. Then you can add some XAML for the design data context, as shown:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<UserControl xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"\n             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n             xmlns:vm="using:DesignTimeData.ViewModels"\n             mc:Ignorable="d" d:DesignWidth="400" \n             x:Class="DesignTimeData.Views.AppointmentView">\n   \n   <Design.DataContext>    \n       <vm:DesignAppointmentViewModel/>\n   </Design.DataContext>\n\n</UserControl>\n')),(0,a.kt)("p",null,"This means that when you start to write the XAML for the UI, you can see your progress in the preview pane. When completed, this example has XAML like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Border CornerRadius="10" Background="LightBlue"  Width="350" Margin="20">\n  <DockPanel Width="350" >\n      \n    <StackPanel Height="10"\n                    DockPanel.Dock="Bottom"\n                    IsVisible="{Binding !IsCancelVisible, }" >\n    </StackPanel>\n\n    <Button Margin="0 10"\n            HorizontalAlignment="Center"\n            DockPanel.Dock="Bottom"\n            ClickMode="Release"\n            Command="{Binding CancelAppointmentCommand}"\n            IsVisible="{Binding IsCancelVisible}">Cancel</Button>\n\n    <StackPanel DockPanel.Dock="Left" Margin="10 10 0 0" Width="200" >\n      <TextBlock Text="{Binding ServiceTitle}" FontWeight="Bold"/>\n      <TextBlock Text="{Binding ServerName, StringFormat=\'with {0}\'}"/>\n      <TextBlock Margin="0 5 0 0" \n                 Text="{Binding ServiceDateTime, StringFormat={}{0:dd MMM yyyy}}"/>\n      <TextBlock Text="{Binding ServiceDateTime, StringFormat={}{0:HH:mm}}"/>\n      <TextBlock Margin="0 5" FontSize="20" \n                 Text="{Binding ServicePrice, StringFormat={}{0:\xa30.00}}"/>\n      <TextBlock Text="{Binding Description, StringFormat={}{0:\xa30.00}}"/>\n    </StackPanel>\n\n    <Border DockPanel.Dock="Right"\n      Background="Gainsboro" CornerRadius="10"\n            Width="75" Height="75"\n            Margin="0 20 20 0">\n      <Image ToolTip.Tip="{Binding ServerName}" />\n    </Border>\n\n    <Rectangle/>\n\n  </DockPanel>\n</Border>\n')),(0,a.kt)("p",null," ","The preview pane shows the completed UI design with the mock data:"),(0,a.kt)("img",{src:"/img/gitbook-import/assets/image (10).png",alt:""}))}m.isMDXComponent=!0}}]);