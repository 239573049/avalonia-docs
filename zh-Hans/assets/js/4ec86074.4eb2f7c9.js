"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[39199],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(n),h=a,m=u["".concat(s,".").concat(h)]||u[h]||d[h]||r;return n?o.createElement(m,l(l({ref:t},p),{},{components:n})):o.createElement(m,l({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:a,l[1]=i;for(var c=2;c<r;c++)l[c]=n[c];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},90857:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var o=n(87462),a=(n(67294),n(3905));const r={description:"TUTORIALS - Music Store App"},l="Add Dialog Content",i={unversionedId:"tutorials/music-store-app/add-content-to-dialog",id:"tutorials/music-store-app/add-content-to-dialog",title:"Add Dialog Content",description:"TUTORIALS - Music Store App",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/tutorials/music-store-app/add-content-to-dialog.md",sourceDirName:"tutorials/music-store-app",slug:"/tutorials/music-store-app/add-content-to-dialog",permalink:"/avalonia-docs/zh-Hans/docs/next/tutorials/music-store-app/add-content-to-dialog",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/tutorials/music-store-app/add-content-to-dialog.md",tags:[],version:"current",frontMatter:{description:"TUTORIALS - Music Store App"},sidebar:"documentationSidebar",previous:{title:"Open a Dialog",permalink:"/avalonia-docs/zh-Hans/docs/next/tutorials/music-store-app/opening-a-dialog"},next:{title:"Mock Search",permalink:"/avalonia-docs/zh-Hans/docs/next/tutorials/music-store-app/mock-search"}},s={},c=[],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"add-dialog-content"},"Add Dialog Content"),(0,a.kt)("p",null,"On the this page you will learn how to add some content to the dialog window. This will be some controls for the search and a dialog close button; together with a list of placeholders for the album covers - these will eventually be loaded as the results of the search."),(0,a.kt)("p",null,"To arrange the dialog controls, you will use the dock panel layout control, that is part of the ",(0,a.kt)("em",{parentName:"p"},"Avalonia UI")," built-in controls. This will keep the search controls at the top of the dialog, and the button at the bottom, whatever the height. The list will be the 'fill' area of the dock panel, so it will always take up all the remaining content zone."," "),(0,a.kt)("div",{style:{textAlign:"center"}},(0,a.kt)("img",{src:"/img/gitbook-import/assets/image (9) (3).png",alt:""})),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"For full information on the dock panel control, see the reference ",(0,a.kt)("a",{parentName:"p",href:"/avalonia-docs/zh-Hans/docs/next/reference/controls/dockpanel"},"here"),".")),(0,a.kt)("p",null,"The dock panel itself will be located on an ",(0,a.kt)("em",{parentName:"p"},"Avalonia UI")," user control. This is so the code that shows the dialog can be separated from the code that operates the controls within the dialog."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"This is a common pattern of UI Composition, to read about this concept, see ",(0,a.kt)("a",{parentName:"p",href:"/avalonia-docs/zh-Hans/docs/next/concepts/ui-composition"},"here"),".")),(0,a.kt)("p",null,"Follow this procedure to add the user control and constituent controls for the dialog:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Stop the app if it is still running."),(0,a.kt)("li",{parentName:"ul"},"In the solution explorer, right-click the ",(0,a.kt)("strong",{parentName:"li"},"/Views")," folder and then click ",(0,a.kt)("strong",{parentName:"li"},"Add"),". "," "),(0,a.kt)("li",{parentName:"ul"},"Click ",(0,a.kt)("strong",{parentName:"li"},"Avalonia User Control"),"."),(0,a.kt)("li",{parentName:"ul"},"When prompted for the name, type 'MusicStoreView'."),(0,a.kt)("li",{parentName:"ul"},"Press enter."),(0,a.kt)("li",{parentName:"ul"},"Alter the XAML for the user control's content zone as follows:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<UserControl ... >\n  <DockPanel>\n    <StackPanel DockPanel.Dock="Top">\n      <TextBox Watermark="Search for Albums...." />\n      <ProgressBar IsIndeterminate="True"  />\n    </StackPanel>\n      <Button Content="Buy Album" \n              DockPanel.Dock="Bottom" \n              HorizontalAlignment="Center" />\n      <ListBox/>\n  </DockPanel>\n</UserControl>\n')),(0,a.kt)("p",null,"Inside the dialog the user will be able to search for albums, but this will use a Web API, and may take some time to return. It is for this reason that you have added a progress bar. The progress bar will be active during the search - to provide visual feedback to the user."),(0,a.kt)("p",null,"Also, to ensure that the app remains responsive during the search, you will implement the operation itself as both asynchronous and cancellable.  You will add this functionality later in the tutorial."),(0,a.kt)("p",null,"Now the next step is for you to add the new user control to the content zone of the dialog window."," "),(0,a.kt)("p",null,"To add the user control, follow this procedure:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Locate and open the ",(0,a.kt)("strong",{parentName:"li"},"MusicStoreWindow.axaml")," file. "," "),(0,a.kt)("li",{parentName:"ul"},"Add the namespace for the views to the ",(0,a.kt)("inlineCode",{parentName:"li"},"<Window>")," element:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Window ...\n    xmlns:views="using:Avalonia.MusicStore.Views" >    \n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Inside the panel element, add an element for new user control:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Panel Margin="40">\n   <views:MusicStoreView/>\n</Panel>\n')),(0,a.kt)("p",null,"You will see the controls appear in the preview pane."),(0,a.kt)("p",null,"On the next page, you will learn how to use a mock for the album search feature - this is so that you can create the view and view model for the results, and leave the implementation of the real search until later."," "))}d.isMDXComponent=!0}}]);