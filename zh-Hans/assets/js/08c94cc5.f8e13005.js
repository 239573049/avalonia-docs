"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[3684],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(n),u=i,h=p["".concat(s,".").concat(u)]||p[u]||m[u]||o;return n?a.createElement(h,r(r({ref:t},d),{},{components:n})):a.createElement(h,r({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},19656:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(87462),i=(n(67294),n(3905));const o={id:"adding-interactivity",title:"Adding Interactivity"},r=void 0,l={unversionedId:"basics/user-interface/adding-interactivity",id:"basics/user-interface/adding-interactivity",title:"Adding Interactivity",description:"One of the fundamental things that a user interface must do is interact with the user. In Avalonia, you can add interactivity to your applications by leveraging events and commands. This guide will introduce events and commands with simple examples.",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/basics/user-interface/adding-interactivity.md",sourceDirName:"basics/user-interface",slug:"/basics/user-interface/adding-interactivity",permalink:"/avalonia-docs/zh-Hans/docs/next/basics/user-interface/adding-interactivity",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/basics/user-interface/adding-interactivity.md",tags:[],version:"current",frontMatter:{id:"adding-interactivity",title:"Adding Interactivity"},sidebar:"documentationSidebar",previous:{title:"Troubleshooting",permalink:"/avalonia-docs/zh-Hans/docs/next/basics/user-interface/styling/troubleshooting"},next:{title:"Assets and Images",permalink:"/avalonia-docs/zh-Hans/docs/next/basics/user-interface/assets"}},s={},c=[{value:"Handling Events",id:"handling-events",level:2},{value:"Using Commands",id:"using-commands",level:2}],d={toc:c},p="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"One of the fundamental things that a user interface must do is interact with the user. In Avalonia, you can add interactivity to your applications by leveraging events and commands. This guide will introduce events and commands with simple examples."),(0,i.kt)("h2",{id:"handling-events"},"Handling Events"),(0,i.kt)("p",null,"Events in Avalonia provide a way to respond to user interactions and control-specific actions. You can handle events by following these steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Implement the Event Handler"),": Write an event handler in the ",(0,i.kt)("a",{parentName:"li",href:"/avalonia-docs/zh-Hans/docs/next/basics/user-interface/code-behind"},"code-behind")," that will be executed when the event is triggered. The event handler should contain the logic you want to execute in response to the event.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",title:"'MainWindow.axaml.cs'"},"public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    // highlight-start\n    private void HandleButtonClick(object sender, RoutedEventArgs e)\n    {\n        // Event handling logic goes here\n    }\n    // highlight-end\n}\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Subscribe to the Event"),": Identify the event you want to handle in your control. Most controls in Avalonia expose various events, such as ",(0,i.kt)("inlineCode",{parentName:"li"},"Click")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"SelectionChanged"),". Subscribe to the event in XAML by locating the control and adding an attribute with the name of the event and a value indicating the name of the event handler method.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml",metastring:"title='MainWindow.axaml'",title:"'MainWindow.axaml'"},'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication1.Views.MainWindow">\n  // highlight-next-line\n  <Button Name="myButton" Content="Click Me" Click="HandleButtonClick" />\n</Window>\n')),(0,i.kt)("p",null,"The above example adds a handler called ",(0,i.kt)("inlineCode",{parentName:"p"},"HandleButtonClick")," to a ",(0,i.kt)("inlineCode",{parentName:"p"},"Button"),"'s ",(0,i.kt)("inlineCode",{parentName:"p"},"Click")," event."),(0,i.kt)("h2",{id:"using-commands"},"Using Commands"),(0,i.kt)("p",null,"Commands in Avalonia provide a higher-level approach to handling user interactions, decoupling the user action from the implementation logic. Whereas events are defined in a control's code-behind, commands are usually bound to a property or method on the ",(0,i.kt)("a",{parentName:"p",href:"/avalonia-docs/zh-Hans/docs/next/basics/data/data-binding/data-context"},"data context"),"."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Commands are available in all controls which provide a ",(0,i.kt)("inlineCode",{parentName:"p"},"Command")," property. The command is usually triggered when the control's primary method of interaction occurs, for example a button click.")),(0,i.kt)("p",null,"The simplest way of using commands is to bind to a method in the object's data context."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Add a method to the view model"),": Define a method in a view model which will handle the command."),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"public class MainWindowViewModel\n{\n    // highlight-start\n    public bool HandleButtonClick()\n    {\n        // Event handling logic here\n    }\n    // highlight-end\n}\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Bind the Method"),": Associate the method with the control that triggers it."),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<Button Content="Click Me" Command="{Binding HandleButtonClick}" />\n')))))}m.isMDXComponent=!0}}]);