"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[16390],{3905:(t,e,n)=>{n.d(e,{Zo:()=>c,kt:()=>h});var a=n(67294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var s=a.createContext({}),p=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},c=function(t){var e=p(t.components);return a.createElement(s.Provider,{value:e},t.children)},d="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,i=t.originalType,s=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),d=p(n),u=o,h=d["".concat(s,".").concat(u)]||d[u]||m[u]||i;return n?a.createElement(h,r(r({ref:e},c),{},{components:n})):a.createElement(h,r({ref:e},c))}));function h(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var i=n.length,r=new Array(i);r[0]=u;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[d]="string"==typeof t?t:o,r[1]=l;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},86657:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(87462),o=(n(67294),n(3905));const i={description:"TUTORIALS - To Do List App"},r="Data Binding",l={unversionedId:"tutorials/todo-list-app/wiring-up-the-views",id:"tutorials/todo-list-app/wiring-up-the-views",title:"Data Binding",description:"TUTORIALS - To Do List App",source:"@site/docs/tutorials/todo-list-app/wiring-up-the-views.md",sourceDirName:"tutorials/todo-list-app",slug:"/tutorials/todo-list-app/wiring-up-the-views",permalink:"/avalonia-docs/docs/next/tutorials/todo-list-app/wiring-up-the-views",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/tutorials/todo-list-app/wiring-up-the-views.md",tags:[],version:"current",frontMatter:{description:"TUTORIALS - To Do List App"},sidebar:"documentationSidebar",previous:{title:"Create a View Model",permalink:"/avalonia-docs/docs/next/tutorials/todo-list-app/creating-a-view-model"},next:{title:"Add a Data Context",permalink:"/avalonia-docs/docs/next/tutorials/todo-list-app/add-a-data-context"}},s={},p=[],c={toc:p},d="wrapper";function m(t){let{components:e,...n}=t;return(0,o.kt)(d,(0,a.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"data-binding"},"Data Binding"),(0,o.kt)("p",null,"Now that you have the view model and model (data service) connected, the next step is to link the views and view models, so the list of items can be displayed."),(0,o.kt)("p",null,"This step uses ",(0,o.kt)("em",{parentName:"p"},"Avalonia UI")," concepts of data templates and data binding. Here a data template inside an items control defines how to display the to do list; and data bindings define how to get the list, and how to get the name and check status for each item."," "),(0,o.kt)("p",null,"Follow this procedure to adapt your user control to use the items control:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Locate and open the ",(0,o.kt)("strong",{parentName:"li"},"ToDoListView.axaml")," file."),(0,o.kt)("li",{parentName:"ul"},"Replace the ",(0,o.kt)("inlineCode",{parentName:"li"},"<StackPanel>")," element, so that the code looks like this:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<UserControl xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"\n             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n             mc:Ignorable="d" d:DesignWidth="250" d:DesignHeight="450"\n             x:Class="ToDoList.Views.ToDoListView">\n  <DockPanel>\n    <Button DockPanel.Dock="Bottom"\n            HorizontalAlignment="Stretch"\n            HorizontalContentAlignment="Center">\n      Add Item\n    </Button>\n    <ItemsControl ItemsSource="{Binding ListItems}">\n      <ItemsControl.ItemTemplate>\n        <DataTemplate>\n          <CheckBox Margin="4"\n                    IsChecked="{Binding IsChecked}"\n                    Content="{Binding Description}"/>\n        </DataTemplate>\n      </ItemsControl.ItemTemplate>\n    </ItemsControl>\n  </DockPanel>\n</UserControl>\n')),(0,o.kt)("p",null,"Take some time here to examine the code that you just added: "," "),(0,o.kt)("p",null,"The items control ",(0,o.kt)("inlineCode",{parentName:"p"},"<ItemsControl>")," repeats its display for each item in a collection source that is defined by the ",(0,o.kt)("inlineCode",{parentName:"p"},"ItemsSource")," attribute. Here the data binding expression ",(0,o.kt)("inlineCode",{parentName:"p"},"{Binding ListItems}")," means we are looking for a data context with this property name."," "),(0,o.kt)("p",null,"How each item is in a displayed inside the items control is controlled by the item template <",(0,o.kt)("inlineCode",{parentName:"p"},"ItemTemplate>"),". This can be any combination of controls, but in this example it is a ",(0,o.kt)("strong",{parentName:"p"},"data template")," is being used."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"You can review the data template concept ",(0,o.kt)("a",{parentName:"p",href:"../../concepts/templates/"},"here"),".")),(0,o.kt)("p",null,"The built-in controls inside the data template will expect to find the properties ",(0,o.kt)("inlineCode",{parentName:"p"},"IsChecked")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Description"),". These will come from the items in the ",(0,o.kt)("inlineCode",{parentName:"p"},"ListItems")," property of a suitable data context that the user control manages to find."),(0,o.kt)("p",null,"So the arrangement of views and view models so far looks like this:"),(0,o.kt)("div",{style:{textAlign:"center"}},(0,o.kt)("img",{src:"/img/gitbook-import/assets/image (7) (3).png",alt:""})),(0,o.kt)("p",null,"This will work if any parent of the items control has a data context object having  a",(0,o.kt)("inlineCode",{parentName:"p"},"ListItems")," property. The ",(0,o.kt)("em",{parentName:"p"},"Avalonia UI")," binding will search upwards in the control tree to locate a suitable data context. But although the main window data context has been set (during the app initialization - see the file ",(0,o.kt)("strong",{parentName:"p"},"App.axaml.cs"),"), at this point there is still no data context with a ",(0,o.kt)("inlineCode",{parentName:"p"},"ListItems")," property."," "),(0,o.kt)("p",null,"So if you run your app, the list is still blank!"),(0,o.kt)("div",{style:{textAlign:"center"}},(0,o.kt)("img",{src:"/img/gitbook-import/assets/image (42) (2).png",alt:""})))}m.isMDXComponent=!0}}]);