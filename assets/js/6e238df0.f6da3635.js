"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[23832],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(n),h=i,m=p["".concat(d,".").concat(h)]||p[h]||c[h]||r;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=h;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[p]="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},77454:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var a=n(87462),i=(n(67294),n(3905));const r={description:"CONCEPTS"},o="Data Binding Syntax",l={unversionedId:"basics/data/data-binding/data-binding-syntax",id:"basics/data/data-binding/data-binding-syntax",title:"Data Binding Syntax",description:"CONCEPTS",source:"@site/docs/basics/data/data-binding/data-binding-syntax.md",sourceDirName:"basics/data/data-binding",slug:"/basics/data/data-binding/data-binding-syntax",permalink:"/avalonia-docs/docs/next/basics/data/data-binding/data-binding-syntax",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/basics/data/data-binding/data-binding-syntax.md",tags:[],version:"current",frontMatter:{description:"CONCEPTS"},sidebar:"documentationSidebar",previous:{title:"Data Context",permalink:"/avalonia-docs/docs/next/basics/data/data-binding/data-context"},next:{title:"Compiled Bindings",permalink:"/avalonia-docs/docs/next/basics/data/data-binding/compiled-bindings"}},d={},s=[{value:"Data Binding Mark-up Extension",id:"data-binding-mark-up-extension",level:2},{value:"Data Binding Path",id:"data-binding-path",level:2},{value:"Empty Binding Path",id:"empty-binding-path",level:2},{value:"Data Binding Mode",id:"data-binding-mode",level:2},{value:"Converting Bound Values",id:"converting-bound-values",level:2},{value:"String Formatting",id:"string-formatting",level:3},{value:"Built-in Conversions",id:"built-in-conversions",level:3},{value:"Custom Conversions",id:"custom-conversions",level:3}],u={toc:s},p="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"data-binding-syntax"},"Data Binding Syntax"),(0,i.kt)("p",null,"In Avalonia, you can define data binding in XAML or code. To define data binding in XAML, you use the data binding mark-up extension, and this has its own syntax which is described here."),(0,i.kt)("h2",{id:"data-binding-mark-up-extension"},"Data Binding Mark-up Extension"),(0,i.kt)("p",null,"The data binding mark-up extension uses the keyword ",(0,i.kt)("inlineCode",{parentName:"p"},"Binding")," in combination with parameters that define the data source, and other options. The format of the mark-up extension is like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<SomeControl SomeProperty="{Binding Path, Mode=ModeValue, StringFormat=Pattern>\n')),(0,i.kt)("p",null,"When there is more than one option parameter, the list is comma-separated."," "),(0,i.kt)("table",null,(0,i.kt)("thead",null,(0,i.kt)("tr",null,(0,i.kt)("th",{width:"222"},"Parameter"),(0,i.kt)("th",null,"Description"))),(0,i.kt)("tbody",null,(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"Path")),(0,i.kt)("td",null,"The data binding path.")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"Mode")),(0,i.kt)("td",null,"One of the binding modes, see below.")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"StringFormat")),(0,i.kt)("td",null,"A pattern showing how the value is to be formatted.")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"ElementName")),(0,i.kt)("td",null,"Can be shortened by using # in the path.")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"Converter")),(0,i.kt)("td",null,"A function that converts the value.")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"RelativeSource")),(0,i.kt)("td",null,"Works on the visual tree instead of the logical tree.")))),(0,i.kt)("h2",{id:"data-binding-path"},"Data Binding Path"),(0,i.kt)("p",null,"The first parameter is usually the path to the data source. This is an object in a data context that ",(0,i.kt)("em",{parentName:"p"},"Avalonia")," locates when it performs data binding."," "),(0,i.kt)("p",null,"There is no need to use the parameter name ",(0,i.kt)("inlineCode",{parentName:"p"},"Path"),"here. So these bindings are equivalent:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<TextBlock Text="{Binding Name}"/>\n<TextBlock Text="{Binding Path=Name}"/>\n')),(0,i.kt)("p",null,"The binding path can be a single property, or it can be a chain of properties. For example if the data source has a ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," property, and the object returned by that property has a property  ",(0,i.kt)("inlineCode",{parentName:"p"},"Name"),", you can bind to the student name using syntax like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-markup"},'<TextBlock Text="{Binding Student.Name}"/>\n')),(0,i.kt)("p",null,"If the data source has an array or list (with an indexer), then you can add the index to the binding path like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-markup"},'<TextBlock Text="{Binding Students[0].Name}"/>\n')),(0,i.kt)("h2",{id:"empty-binding-path"},"Empty Binding Path"),(0,i.kt)("p",null,"You can specify data binding without a path. This binds to the data context of the control itself (where the binding is defined). These two syntaxes are equivalent:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<TextBlock Text="{Binding}"/>\n<TextBlock Text="{Binding .}"/>\n')),(0,i.kt)("h2",{id:"data-binding-mode"},"Data Binding Mode"),(0,i.kt)("p",null,"You can change how data is moved in a data binding by specifying the data binding mode."),(0,i.kt)("img",{src:"/img/gitbook-import/assets/image (2).png",alt:""}),(0,i.kt)("p",null,"For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-markup"},'<TextBlock Text="{Binding Name, Mode=OneTime}">\n')),(0,i.kt)("p",null,"The available binding modes are:"),(0,i.kt)("table",null,(0,i.kt)("thead",null,(0,i.kt)("tr",null,(0,i.kt)("th",{width:"250"},"Mode"),(0,i.kt)("th",null,"Description"))),(0,i.kt)("tbody",null,(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"OneWay")),(0,i.kt)("td",null,"Changes in the data source are automatically propagated to the binding target")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"TwoWay")),(0,i.kt)("td",null,"Changes in the data source are automatically propagated to the binding target, and the other way around as well.")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"OneTime")),(0,i.kt)("td",null,"The value from the data source is propagated at initialization to the binding target, but subsequent changes are ignored")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"OneWayToSource")),(0,i.kt)("td",null,"Changes in the binding target are propagated to the data source, but not the other way.")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("code",null,"Default")),(0,i.kt)("td",null,"The binding mode is based on a default mode defined in the code for the property. See below.")))),(0,i.kt)("p",null,"When no mode is specified, then the default is always used. For a control property that does not change value due to user interaction, the default mode is generally ",(0,i.kt)("inlineCode",{parentName:"p"},"OneWay"),". For a control property that does change value due to user input, then the default mode is usually ",(0,i.kt)("inlineCode",{parentName:"p"},"TwoWay"),"."," "),(0,i.kt)("p",null,"For example, the default mode for a ",(0,i.kt)("inlineCode",{parentName:"p"},"TextBlock.Text")," property is ",(0,i.kt)("inlineCode",{parentName:"p"},"OneWay"),", and the default mode for a  ",(0,i.kt)("inlineCode",{parentName:"p"},"TextBox.Text")," property is ",(0,i.kt)("inlineCode",{parentName:"p"},"TwoWay"),"."),(0,i.kt)("h2",{id:"converting-bound-values"},"Converting Bound Values"),(0,i.kt)("p",null,"There are a number of ways to convert the value supplied by a data binding into what is actually displayed in the target control."),(0,i.kt)("h3",{id:"string-formatting"},"String Formatting"),(0,i.kt)("p",null,"You can apply a pattern to a binding to define how the value is to be displayed. There are a number of syntaxes for this"),(0,i.kt)("p",null,"The pattern index is zero-based, and must always be inside curly braces. When the curly braces are at the beginning of the pattern, even when also inside single quotes, they must be escaped. This can be done either by adding an extra pair of curly braces to the front of the pattern, or by escaping the curly braces using backslashes."),(0,i.kt)("p",null,"This means that when your pattern starts with a zero, you can use a pair of curly braces to escape the pattern, then supply the pattern itself inside a second pair of curly braces. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<TextBlock Text="{Binding FloatProperty, StringFormat={}{0:0.0}}" />\n')),(0,i.kt)("p",null,"Alternatively, you can use backslashes to escape the curly brackets needed for the pattern. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-markup"},'<TextBlock Text="{Binding FloatValue, StringFormat=\\{0:0.0\\}}" />\n')),(0,i.kt)("p",null,"However, if your pattern does not start with a zero, you do not need the escape. Also, if you have  whitespace in your pattern, you must surround it with single quotes. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-markup"},"<TextBlock Text=\"{Binding Animals.Count, StringFormat='I have {0} animals.'}\" />\n")),(0,i.kt)("p",null,"Notice that this means that if your pattern starts with the value that you are binding, then you do need the escape.  For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-markup"},"<TextBlock Text=\"{Binding Animals.Count, \n                                StringFormat='{}{0} animals live in the farm.'}\" />\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Whenever a ",(0,i.kt)("inlineCode",{parentName:"p"},"StringFormat")," parameter is present, the value of the binding will actually be converted using the ",(0,i.kt)("inlineCode",{parentName:"p"},"StringFormatValueConverter")," (this is one of the built-in converters - see below).")),(0,i.kt)("h3",{id:"built-in-conversions"},"Built-in Conversions"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Avalonia")," has a range of built-in data binding converters. These include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"a string formatting converter"," "),(0,i.kt)("li",{parentName:"ul"},"null testing converters"),(0,i.kt)("li",{parentName:"ul"},"Boolean operation converters")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"For full information on Avalonia built-in data binding converters, see the reference ",(0,i.kt)("a",{parentName:"p",href:"/avalonia-docs/docs/next/reference/built-in-data-binding-converters"},"here"),"."," ")),(0,i.kt)("h3",{id:"custom-conversions"},"Custom Conversions"),(0,i.kt)("p",null,"If none of the built-in converters are meet your requirements, then you can implement a custom converter."," "),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"An example of a custom converter can bind an image file. For guidance on how to create a custom converter for an image, see ",(0,i.kt)("a",{parentName:"p",href:"/avalonia-docs/docs/next/guides/data-binding/how-to-bind-image-files"},"here"),"."," ")))}c.isMDXComponent=!0}}]);