"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[93406],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>h});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var d=a.createContext({}),l=function(e){var n=a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=l(e.components);return a.createElement(d.Provider,{value:n},e.children)},p="mdxType",s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,d=e.parentName,c=m(e,["components","mdxType","originalType","parentName"]),p=l(t),u=o,h=p["".concat(d,".").concat(u)]||p[u]||s[u]||i;return t?a.createElement(h,r(r({ref:n},c),{},{components:t})):a.createElement(h,r({ref:n},c))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,r=new Array(i);r[0]=u;var m={};for(var d in n)hasOwnProperty.call(n,d)&&(m[d]=n[d]);m.originalType=e,m[p]="string"==typeof e?e:o,r[1]=m;for(var l=2;l<i;l++)r[l]=t[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},91710:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>s,frontMatter:()=>i,metadata:()=>m,toc:()=>l});var a=t(87462),o=(t(67294),t(3905));const i={id:"binding-to-commands",title:"Binding to Commands"},r=void 0,m={unversionedId:"data-binding/binding-to-commands",id:"version-0.10.x/data-binding/binding-to-commands",title:"Binding to Commands",description:"Controls that carry out an action, such as Button have a Command property which can be bound to an ICommand. When the control is activated \\(e.g. when a button is clicked\\) the ICommand.Execute method will be called.",source:"@site/versioned_docs/version-0.10.x/data-binding/binding-to-commands.md",sourceDirName:"data-binding",slug:"/data-binding/binding-to-commands",permalink:"/avalonia-docs/docs/data-binding/binding-to-commands",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/versioned_docs/version-0.10.x/data-binding/binding-to-commands.md",tags:[],version:"0.10.x",frontMatter:{id:"binding-to-commands",title:"Binding to Commands"},sidebar:"documentationSidebar",previous:{title:"Converting Binding Values",permalink:"/avalonia-docs/docs/data-binding/converting-binding-values"},next:{title:"Binding to Tasks and Observables",permalink:"/avalonia-docs/docs/data-binding/binding-to-tasks-and-observables"}},d={},l=[{value:"CommandParameter",id:"commandparameter",level:2},{value:"Binding To Methods",id:"binding-to-methods",level:2},{value:"ICommand.Execute",id:"icommandexecute",level:3},{value:"ICommand.CanExecute",id:"icommandcanexecute",level:3},{value:"Samples",id:"samples",level:2}],c={toc:l},p="wrapper";function s(e){let{components:n,...t}=e;return(0,o.kt)(p,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Controls that carry out an action, such as ",(0,o.kt)("a",{parentName:"p",href:"http://reference.avaloniaui.net/api/Avalonia.Controls/Button/4AAA993D"},(0,o.kt)("inlineCode",{parentName:"a"},"Button"))," have a ",(0,o.kt)("inlineCode",{parentName:"p"},"Command")," property which can be bound to an ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-gb/dotnet/api/system.windows.input.icommand?view=netstandard-2.0"},(0,o.kt)("inlineCode",{parentName:"a"},"ICommand")),". When the control is activated ","(","e.g. when a button is clicked",")"," the ",(0,o.kt)("inlineCode",{parentName:"p"},"ICommand.Execute")," method will be called."),(0,o.kt)("p",null,"A good implementation of ",(0,o.kt)("inlineCode",{parentName:"p"},"ICommand")," can be found in ReactiveUI's ",(0,o.kt)("a",{parentName:"p",href:"https://reactiveui.net/docs/handbook/commands/"},(0,o.kt)("inlineCode",{parentName:"a"},"ReactiveCommand")),". If you've created your application using the ",(0,o.kt)("a",{parentName:"p",href:"../tutorials/todo-list-app/creating-a-new-project#net-core-cli"},"Avalonia MVVM Application")," template then this will be available by default. See the ",(0,o.kt)("a",{parentName:"p",href:"https://reactiveui.net/docs/handbook/commands/"},"ReactiveUI")," documentation for more information."),(0,o.kt)("p",null,"An example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"namespace Example\n{\n    public class MainWindowViewModel : ViewModelBase\n    {\n        public MainWindowViewModel()\n        {\n            DoTheThing = ReactiveCommand.Create(RunTheThing);\n        }\n\n        public ReactiveCommand<Unit, Unit> DoTheThing { get; }\n\n        void RunTheThing()\n        {\n            // Code for executing the command here.\n        }\n    }\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-markup"},'<Window xmlns="https://github.com/avaloniaui">\n    <Button Command="{Binding DoTheThing}">Do the thing!</Button>\n</Window>\n')),(0,o.kt)("h2",{id:"commandparameter"},"CommandParameter"),(0,o.kt)("p",null,"You can also pass a parameter to the command using the ",(0,o.kt)("inlineCode",{parentName:"p"},"CommandParameter")," property:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"namespace Example\n{\n    public class MainWindowViewModel : ViewModelBase\n    {\n        public MainWindowViewModel()\n        {\n            DoTheThing = ReactiveCommand.Create<string>(RunTheThing);\n        }\n\n        public ReactiveCommand<string, Unit> DoTheThing { get; }\n\n        void RunTheThing(string parameter)\n        {\n            // Code for executing the command here.\n        }\n    }\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-markup"},'<Window xmlns="https://github.com/avaloniaui">\n    <Button Command="{Binding DoTheThing}" CommandParameter="Hello World">Do the thing!</Button>\n</Window>\n')),(0,o.kt)("p",null,"Note that no type conversion is carried out on ",(0,o.kt)("inlineCode",{parentName:"p"},"CommandParameter"),", so if you need your type parameter to be something other than ",(0,o.kt)("inlineCode",{parentName:"p"},"string")," you must supply an object of that type in XAML. For example to pass an ",(0,o.kt)("inlineCode",{parentName:"p"},"int")," parameter you could use:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-markup"},'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:sys="clr-namespace:System;assembly=mscorlib">\n    <Button Command="{Binding DoTheThing}">\n        <Button.CommandParameter>\n            <sys:Int32>42</sys:Int32>\n        </Button.CommandParameter>\n        Do the thing!\n    </Button>\n</Window>\n')),(0,o.kt)("p",null,"Like any other property, ",(0,o.kt)("inlineCode",{parentName:"p"},"CommandParameter")," can also be bound."),(0,o.kt)("h2",{id:"binding-to-methods"},"Binding To Methods"),(0,o.kt)("h3",{id:"icommandexecute"},"ICommand.Execute"),(0,o.kt)("p",null,"Sometimes you just want to call a method when a button is clicked without the ceremony of creating a command. You can do that too!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"namespace Example\n{\n    public class MainWindowViewModel : ViewModelBase\n    {\n        public void RunTheThing(string parameter)\n        {\n            // Code for executing the command here.\n        }\n    }\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-markup"},'<Window xmlns="https://github.com/avaloniaui">\n  <Button Command="{Binding RunTheThing}" CommandParameter="Hello World">Do the thing!</Button>\n</Window>\n')),(0,o.kt)("h3",{id:"icommandcanexecute"},"ICommand.CanExecute"),(0,o.kt)("p",null,'If you need to have execution dependent on CommandParameter or your ViewModel property, you can define a named method formed by the prefix "Can" and the name of your execution method; the method will accept an object parameter which is the CommandParameter and return a Boolean which determines if the method is executable.'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"namespace Example\n{\n    public class MainWindowViewModel : ViewModelBase\n    {\n        public void RunTheThing(string parameter)\n        {\n            // Code for executing the command here.\n        }\n\n        bool CanRunTheThing(/* CommandParameter */object parameter)\n        {\n            return parameter != null;\n        }\n    }\n}\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Trigger ICommand.CanExecute")),(0,o.kt)("p",null,"if you want trigger CanExecute from your ViewModel, you have to decorate it with one or more DependsOn attributes, where propertyName is the name of the property that will activate the CanExecute method when it changes value."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"namespace Example\n{\n    public class MainWindowViewModel : ViewModelBase\n    {\n        bool _isTheThingEnabled = true;\n\n        bool IsTheThingEnabled\n        {\n            get\n            {\n               return  _isTheThingEnabled;\n            }\n            set\n            {\n                if(value == _isTheThingEnabled)\n                   return;\n                _isTheThingEnabled = value;\n                PropertyChanged?\n                    .Invoke(this, new PropertyChangedEventArgs(nameof(IsTheThingEnabled)));\n            }\n        }\n\n        public void RunTheThing(string parameter)\n        {\n            // Code for executing the command here.\n        }\n\n        [DependsOn(nameof(IsTheThingEnabled))]\n        bool CanRunTheThing(/* CommandParameter */object parameter)\n        {\n            return IsTheThingEnabled && parameter != null;\n        }\n    }\n}\n")),(0,o.kt)("h2",{id:"samples"},"Samples"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/AvaloniaUI/Avalonia.Samples/tree/main/src/Avalonia.Samples/MVVM/CommandSample"},"Commands Example")))}s.isMDXComponent=!0}}]);