"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[76138],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>b});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(n),d=o,b=u["".concat(s,".").concat(d)]||u[d]||m[d]||r;return n?a.createElement(b,l(l({ref:t},c),{},{components:n})):a.createElement(b,l({ref:t},c))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:o,l[1]=i;for(var p=2;p<r;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},22119:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var a=n(87462),o=(n(67294),n(3905));const r={id:"how-to-use-web-assembly",title:"Web Assembly"},l="\ud83d\udc49 Web Assembly",i={unversionedId:"guides/platforms/how-to-use-web-assembly",id:"guides/platforms/how-to-use-web-assembly",title:"Web Assembly",description:"Run in the browser with WebAssembly",source:"@site/docs/guides/platforms/how-to-use-web-assembly.md",sourceDirName:"guides/platforms",slug:"/guides/platforms/how-to-use-web-assembly",permalink:"/avalonia-docs/docs/next/guides/platforms/how-to-use-web-assembly",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/guides/platforms/how-to-use-web-assembly.md",tags:[],version:"current",frontMatter:{id:"how-to-use-web-assembly",title:"Web Assembly"},sidebar:"documentationSidebar",previous:{title:"Running on Raspberry Pi with Raspbian Lite",permalink:"/avalonia-docs/docs/next/guides/platforms/rpi/running-on-raspbian-lite-via-drm"},next:{title:"macOS Development",permalink:"/avalonia-docs/docs/next/guides/platforms/macos-development"}},s={},p=[{value:"Interop",id:"interop",level:2},{value:"Legacy Blazor backend",id:"legacy-blazor-backend",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}],c={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"-web-assembly"},"\ud83d\udc49 Web Assembly"),(0,o.kt)("p",null,"Run in the browser with WebAssembly"),(0,o.kt)("p",null,"It is currently very early days and not ready for production, however if you want to test this exciting new feature please take the following steps."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Install ",(0,o.kt)("inlineCode",{parentName:"li"},"wasm-experimental")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"wasm-tools")," workload tools. See ",(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-workload-install"},"dotnet documentation"),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"dotnet workload install wasm-experimental wasm-tools\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Install or update the dotnet templates to the latest version.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"dotnet new install avalonia.templates\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Create a new directory for the project.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir WebTest\ncd WebTest\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Generate a new project that supports running in the browser.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"dotnet new avalonia.xplat\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In order to run simply do:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd WebTest.Web\ndotnet run\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the console output you will see HTTP and HTTPS links to open the app.")),(0,o.kt)("h2",{id:"interop"},"Interop"),(0,o.kt)("p",null,"It is possible to call JavaScript code from the Avalonia Web application. Avalonia app is compatible with standard ",(0,o.kt)("strong",{parentName:"p"},"[","JSImport]/","[","JSExport]")," interop from Microsoft. You can find more information on ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/aspnet/core/blazor/javascript-interoperability/import-export-interop?view=aspnetcore-7.0"},"their documentation"),"."),(0,o.kt)("h2",{id:"legacy-blazor-backend"},"Legacy Blazor backend"),(0,o.kt)("p",null,"Starting from Avalonia 11.0 ",(0,o.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/Avalonia.Web/"},"Avalonia.Web")," package relies on build-in .NET interop with better stability and performance. Legacy Blazor backend is still available for compatability and can be referenced using ",(0,o.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/Avalonia.Web.Blazor/"},"Avalonia.Web.Blazor")," package."),(0,o.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,o.kt)("p",null,"If you have not performed the step to install required workloads, you will encounter errors when running the app in your browser later (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"System.DllNotFoundException: libSkiaSharp"),") and you will need to rebuild again before the app will run."))}m.isMDXComponent=!0}}]);