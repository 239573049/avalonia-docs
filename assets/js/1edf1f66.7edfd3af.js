"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[60974],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>k});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),c=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},p=function(t){var e=c(t.components);return n.createElement(s.Provider,{value:e},t.children)},d="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),d=c(a),u=r,k=d["".concat(s,".").concat(u)]||d[u]||m[u]||l;return a?n.createElement(k,i(i({ref:e},p),{},{components:a})):n.createElement(k,i({ref:e},p))}));function k(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o[d]="string"==typeof t?t:r,i[1]=o;for(var c=2;c<l;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},96471:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const l={id:"clipboard",title:"Clipboard"},i=void 0,o={unversionedId:"concepts/services/clipboard",id:"concepts/services/clipboard",title:"Clipboard",description:"The Clipboard class enables interacting with the system clipboard, providing functionality for setting and retrieving text, clearing the clipboard, handling data objects and working with different data formats.",source:"@site/docs/concepts/services/clipboard.md",sourceDirName:"concepts/services",slug:"/concepts/services/clipboard",permalink:"/avalonia-docs/docs/next/concepts/services/clipboard",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/concepts/services/clipboard.md",tags:[],version:"current",frontMatter:{id:"clipboard",title:"Clipboard"},sidebar:"documentationSidebar",previous:{title:"Services",permalink:"/avalonia-docs/docs/next/concepts/services/"},next:{title:"Focus Manager",permalink:"/avalonia-docs/docs/next/concepts/services/focus-manager"}},s={},c=[{value:"Methods",id:"methods",level:2},{value:"GetTextAsync()",id:"gettextasync",level:3},{value:"SetTextAsync(string? text)",id:"settextasyncstring-text",level:3},{value:"ClearAsync()",id:"clearasync",level:3},{value:"SetDataObjectAsync(IDataObject data)",id:"setdataobjectasyncidataobject-data",level:3},{value:"GetFormatsAsync()",id:"getformatsasync",level:3},{value:"GetDataAsync(string format)",id:"getdataasyncstring-format",level:3},{value:"Creating a DataObject to be sent to the clipboard",id:"creating-a-dataobject-to-be-sent-to-the-clipboard",level:2},{value:"Platform compatibility:",id:"platform-compatibility",level:2}],p={toc:c},d="wrapper";function m(t){let{components:e,...a}=t;return(0,r.kt)(d,(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Clipboard")," class enables interacting with the system clipboard, providing functionality for setting and retrieving text, clearing the clipboard, handling data objects and working with different data formats. "),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"For a complete, runnable example of these concepts in action, check out ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/AvaloniaUI/AvaloniaUI.QuickGuides/tree/main/ClipboardOps"},"the sample application"),".")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Clipboard")," can be access through an instance of ",(0,r.kt)("inlineCode",{parentName:"p"},"TopLevel")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"Window"),", for more details on accessing ",(0,r.kt)("inlineCode",{parentName:"p"},"TopLevel")," please visit ",(0,r.kt)("a",{parentName:"p",href:"../toplevel"},"TopLevel")," page:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"var clipboard = window.Clipboard;\n")),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("h3",{id:"gettextasync"},"GetTextAsync()"),(0,r.kt)("p",null,"Retrieves text from the clipboard asynchronously. The resulting value of the task is the text from the clipboard. If the clipboard doesn't contain text or is empty, the method returns ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"Task<string?> GetTextAsync()\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Avalonia clipboard always operates with Unicode text.")),(0,r.kt)("h3",{id:"settextasyncstring-text"},"SetTextAsync(string? text)"),(0,r.kt)("p",null,"Sets the clipboard text asynchronously and flushes it immediately. This method accepts a ",(0,r.kt)("inlineCode",{parentName:"p"},"string?")," parameter for a text that needs to be copied. If the provided text is ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),", the clipboard will be cleared."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"Task SetTextAsync(string? text)\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Unlikely different Win32 clipboard APIs, Avalonia clipboard always flushes data and is never delayed.")),(0,r.kt)("h3",{id:"clearasync"},"ClearAsync()"),(0,r.kt)("p",null,"Clears the clipboard asynchronously flushes it immediately."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"Task ClearAsync()\n")),(0,r.kt)("h3",{id:"setdataobjectasyncidataobject-data"},"SetDataObjectAsync(IDataObject data)"),(0,r.kt)("p",null,"Sets the clipboard content to the specified data object asynchronously. This method accepts an ",(0,r.kt)("inlineCode",{parentName:"p"},"IDataObject")," parameter. The data object can contain multiple data formats."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"Task SetDataObjectAsync(IDataObject data)\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Unlikely different Win32 clipboard APIs, Avalonia clipboard always flushes data and is never delayed.")),(0,r.kt)("h3",{id:"getformatsasync"},"GetFormatsAsync()"),(0,r.kt)("p",null,"Retrieves the list of formats currently stored in the clipboard asynchronously. The resulting value of the task is an array of string format names."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"Task<string[]> GetFormatsAsync()\n")),(0,r.kt)("h3",{id:"getdataasyncstring-format"},"GetDataAsync(string format)"),(0,r.kt)("p",null,"Retrieves data in the specified format from the clipboard asynchronously. This method returns a ",(0,r.kt)("inlineCode",{parentName:"p"},"Task<object?>")," that represents the operation. The resulting value of the task is the clipboard data in the specified format. If there's no data in the clipboard in the specified format, the method returns ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cs"},"Task<object?> GetDataAsync(string format)\n")),(0,r.kt)("h2",{id:"creating-a-dataobject-to-be-sent-to-the-clipboard"},"Creating a DataObject to be sent to the clipboard"),(0,r.kt)("p",null,"You can store objects on the clipboard on some platforms with different formats."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"title='C#'",title:"'C#'"},'private async void CopyButton_OnClick(object? sender, RoutedEventArgs args)\n{\n    var clipboard = TopLevel.GetTopLevel(this)?.Clipboard;\n    var dataObject = new DataObject();\n    dataObject.Set(DataFormats.Text, "Hello World");\n    await clipboard.SetDataObjectAsync(dataObject);\n}\n')),(0,r.kt)("h2",{id:"platform-compatibility"},"Platform compatibility:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Feature"),(0,r.kt)("th",{parentName:"tr",align:null},"Windows"),(0,r.kt)("th",{parentName:"tr",align:null},"macOS"),(0,r.kt)("th",{parentName:"tr",align:null},"Linux x11"),(0,r.kt)("th",{parentName:"tr",align:null},"Browser"),(0,r.kt)("th",{parentName:"tr",align:null},"Android"),(0,r.kt)("th",{parentName:"tr",align:null},"iOS"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GetTextAsync")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714**"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SetTextAsync")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ClearAsync")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GetFormatsAsync")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SetDataObjectAsync")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"GetDataAsync")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2716*")))),(0,r.kt)("p",null,"*"," Technically possible, but wasn't implemented yet. Contributions are welcome!"),(0,r.kt)("p",null,'** In the Mozilla browser, the GetTextAsync method only functions after the "Paste" gesture has been triggered, typically by using Ctrl+V.'))}m.isMDXComponent=!0}}]);