"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[3333],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||a;return n?o.createElement(h,i(i({ref:t},p),{},{components:n})):o.createElement(h,i({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},15672:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var o=n(87462),r=(n(67294),n(3905));const a={id:"draw-with-a-property",title:"Draw with a Property"},i="Draw with a Property",s={unversionedId:"guides/custom-controls/draw-with-a-property",id:"guides/custom-controls/draw-with-a-property",title:"Draw with a Property",description:"On this page you will see how to draw a custom control, using the value for a simple property that defines the background color. The code now looks like this:",source:"@site/docs/guides/custom-controls/draw-with-a-property.md",sourceDirName:"guides/custom-controls",slug:"/guides/custom-controls/draw-with-a-property",permalink:"/avalonia-docs/docs/next/guides/custom-controls/draw-with-a-property",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/guides/custom-controls/draw-with-a-property.md",tags:[],version:"current",frontMatter:{id:"draw-with-a-property",title:"Draw with a Property"},sidebar:"documentationSidebar",previous:{title:"Defining Properties",permalink:"/avalonia-docs/docs/next/guides/custom-controls/defining-properties"},next:{title:"How To Create a Custom Controls Library",permalink:"/avalonia-docs/docs/next/guides/custom-controls/how-to-create-a-custom-controls-library"}},l={},c=[],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"draw-with-a-property"},"Draw with a Property"),(0,r.kt)("p",null,"On this page you will see how to draw a custom control, using the value for a simple property that defines the background color. The code now looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:"title='MainWindow.xaml'",title:"'MainWindow.xaml'"},'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"\n        xmlns:cc="using:AvaloniaCCExample.CustomControls"\n        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"\n        x:Class="AvaloniaCCExample.MainWindow"\n        Title="Avalonia Custom Control">\n  <cc:MyCustomControl Height="200" Width="300" Background="Red"/>\n</Window>\n\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"title='MyCustomControl.cs'",title:"'MyCustomControl.cs'"},"using Avalonia.Controls;\n\nnamespace AvaloniaCCExample.CustomControls\n{\n    public class MyCustomControl : Control\n    {\n        public IBrush? Background { get; set; }\n\n        public sealed override void Render(DrawingContext context)\n        {\n            if (Background != null)\n            {\n                var renderSize = Bounds.Size;\n                context.FillRectangle(Background, new Rect(renderSize));\n            }\n            \n            base.Render(context);\n        }\n    }\n}\n")),(0,r.kt)("p",null,"This example defines a simple brush property on the custom control for the background color. It then overrides the ",(0,r.kt)("inlineCode",{parentName:"p"},"Render")," method to draw the control."," "),(0,r.kt)("p",null,"The drawing code uses the ",(0,r.kt)("em",{parentName:"p"},"Avalonia UI")," graphics context (that is passed to the render method), to draw a rectangle that is filled with the background color, and made the same size as the control (as supplied by the ",(0,r.kt)("inlineCode",{parentName:"p"},"Bounds.Size")," object)."),(0,r.kt)("img",{src:"/img/gitbook-import/assets/image (1) (2) (2).png",alt:""}),(0,r.kt)("p",null,"Notice how the control now shows both at runtime (above) and in the preview pane."),(0,r.kt)("p",null,"On the next page, you will see how to implement the background property so that it can be changed by the ",(0,r.kt)("em",{parentName:"p"},"Avalonia UI")," styling system. "," "))}d.isMDXComponent=!0}}]);