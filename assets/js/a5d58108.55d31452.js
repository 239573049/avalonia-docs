"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[17677],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>m});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=o.createContext({}),l=function(e){var n=o.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},s=function(e){var n=l(e.components);return o.createElement(u.Provider,{value:n},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},g=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),p=l(t),g=r,m=p["".concat(u,".").concat(g)]||p[g]||c[g]||i;return t?o.createElement(m,a(a({ref:n},s),{},{components:t})):o.createElement(m,a({ref:n},s))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=g;var d={};for(var u in n)hasOwnProperty.call(n,u)&&(d[u]=n[u]);d.originalType=e,d[p]="string"==typeof e?e:r,a[1]=d;for(var l=2;l<i;l++)a[l]=t[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}g.displayName="MDXCreateElement"},29635:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var o=t(87462),r=(t(67294),t(3905));const i={id:"configure-vscode-debug-linux",title:"Configure debugging in Visual Studio Code (Linux)"},a="Configure debugging in Visual Studio Code (Linux)",d={unversionedId:"guides/platforms/android/configure-vscode-debug-linux",id:"guides/platforms/android/configure-vscode-debug-linux",title:"Configure debugging in Visual Studio Code (Linux)",description:"For debugging Avalonia-based Android projects on Linux (using Visual Studio Code), follow the steps:",source:"@site/docs/guides/platforms/android/configure-vscode-debug-linux.md",sourceDirName:"guides/platforms/android",slug:"/guides/platforms/android/configure-vscode-debug-linux",permalink:"/avalonia-docs/docs/next/guides/platforms/android/configure-vscode-debug-linux",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/guides/platforms/android/configure-vscode-debug-linux.md",tags:[],version:"current",frontMatter:{id:"configure-vscode-debug-linux",title:"Configure debugging in Visual Studio Code (Linux)"},sidebar:"documentationSidebar",previous:{title:"Build and run your Application on a Simulator",permalink:"/avalonia-docs/docs/next/guides/platforms/android/build-and-run-your-application-on-a-simulator"},next:{title:"How To Set Up an Android Dev Environment",permalink:"/avalonia-docs/docs/next/guides/platforms/android/setting-up-your-developer-environment-for-android"}},u={},l=[],s={toc:l},p="wrapper";function c(e){let{components:n,...t}=e;return(0,r.kt)(p,(0,o.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"configure-debugging-in-visual-studio-code-linux"},"Configure debugging in Visual Studio Code (Linux)"),(0,r.kt)("p",null,"For debugging Avalonia-based Android projects on Linux (using Visual Studio Code), follow the steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Make sure to install the "Mono Debug" extension from ',(0,r.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=ms-vscode.mono-debug"},"here"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Configure your ",(0,r.kt)("inlineCode",{parentName:"p"},"launch.json")," file to include the following entries (for deploy + debug, and attach respectively):"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "version": "0.2.0",\n    "configurations": [\n        {\n            "name": "Debug - Android",\n            "type": "mono",\n            "preLaunchTask": "run-debug-android",\n            "request": "attach",\n                "address": "localhost",\n                "port": 10000\n        },\n        {\n            "name": "Attach - Android",\n            "type": "mono",\n            "request": "attach",\n            "address": "localhost",\n            "port": 10000\n        }\n    ]\n}\n')),(0,r.kt)("p",null,"where ",(0,r.kt)("inlineCode",{parentName:"p"},"port")," value can be arbitrary (make sure it's not used already by other applications or OS)."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add a new entry to ",(0,r.kt)("inlineCode",{parentName:"li"},"tasks.json")," for deploying to Android (device or emulator) with enabled Mono debug server:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "version": "2.0.0",\n    "tasks": [\n        /* ... */\n        {\n            "label": "run-debug-android",\n            "command": "dotnet",\n            "type": "shell",\n            "args": [\n                "build",\n                "--no-restore",\n                "-t:Run",\n                "${workspaceFolder}/<ProjectName>.Android.csproj",\n                "-p:TargetFramework=net6.0-android",\n                "-p:Configuration=Debug",\n                "-p:AndroidAttachDebugger=true",\n                "-p:AndroidSdbHostPort=10000"\n            ],\n            "problemMatcher": "$msCompile"\n        }\n    ]\n}\n')),(0,r.kt)("p",null,"where ",(0,r.kt)("inlineCode",{parentName:"p"},"<ProjectName>")," is your Android-specific Avalonia project name."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Make sure that the value of ",(0,r.kt)("inlineCode",{parentName:"p"},"port")," variable in ",(0,r.kt)("inlineCode",{parentName:"p"},"launch.json")," matches the one of ",(0,r.kt)("inlineCode",{parentName:"p"},"AndroidSdbHostPort")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"tasks.json"),", otherwise the debugger won't be able to connect.")),(0,r.kt)("p",null,"After the setup, you can run the ",(0,r.kt)("inlineCode",{parentName:"p"},"Debug - Android")," task via the Debug panel. Dotnet runtime will build and deploy the app, and Mono debugger will connect to the open port on the device, with all standard debugging functionality available."))}c.isMDXComponent=!0}}]);